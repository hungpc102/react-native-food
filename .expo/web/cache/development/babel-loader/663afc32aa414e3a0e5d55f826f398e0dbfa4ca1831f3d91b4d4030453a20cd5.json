{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport axios from 'axios';\nimport { userApiLogout } from \"../../api/UserAPI\";\nimport { getRefreshTokenFromStorage, saveLoginStatusToStorage, saveUserIdToStorage } from \"../../utils/TokenStorage\";\nexport var logoutUser = function () {\n  var _ref = _asyncToGenerator(function* (navigation) {\n    try {\n      var refreshToken = yield getRefreshTokenFromStorage();\n      if (refreshToken) {\n        var response = yield axios.delete(userApiLogout, {\n          data: {\n            refreshToken: refreshToken\n          }\n        });\n        yield saveLoginStatusToStorage('');\n        yield saveUserIdToStorage('');\n        navigation.navigate('Login');\n      }\n    } catch (error) {\n      console.error('Lỗi khi gọi API logout:', error);\n    }\n  });\n  return function logoutUser(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();","map":{"version":3,"names":["axios","userApiLogout","getRefreshTokenFromStorage","saveLoginStatusToStorage","saveUserIdToStorage","logoutUser","_ref","_asyncToGenerator","navigation","refreshToken","response","delete","data","navigate","error","console","_x","apply","arguments"],"sources":["/Users/chuduchung/Documents/doan-reactnative/react-native-app/react-native-food/services/userService.tsx/logoutServices.tsx"],"sourcesContent":["\nimport axios from 'axios';\nimport { userApiLogout } from '../../api/UserAPI';\nimport { getRefreshTokenFromStorage, saveLoginStatusToStorage, saveUserIdToStorage } from '../../utils/TokenStorage';\n\nexport const logoutUser = async (navigation:any) => {\n  try {\n    const refreshToken = await getRefreshTokenFromStorage();\n\n    if (refreshToken) {\n      const response = await axios.delete(userApiLogout, {\n        data: {\n          refreshToken: refreshToken,\n        }\n      })\n      // if (response.data.status === 401){\n      //   alert('Lỗi')\n      // }else{\n        await saveLoginStatusToStorage('')\n        await saveUserIdToStorage('')\n        navigation.navigate('Login')\n      // }\n    }\n  } catch (error) {\n    console.error('Lỗi khi gọi API logout:', error);\n  }\n};\n"],"mappings":";AACA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,aAAa;AACtB,SAASC,0BAA0B,EAAEC,wBAAwB,EAAEC,mBAAmB;AAElF,OAAO,IAAMC,UAAU;EAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAG,WAAOC,UAAc,EAAK;IAClD,IAAI;MACF,IAAMC,YAAY,SAASP,0BAA0B,CAAC,CAAC;MAEvD,IAAIO,YAAY,EAAE;QAChB,IAAMC,QAAQ,SAASV,KAAK,CAACW,MAAM,CAACV,aAAa,EAAE;UACjDW,IAAI,EAAE;YACJH,YAAY,EAAEA;UAChB;QACF,CAAC,CAAC;QAIA,MAAMN,wBAAwB,CAAC,EAAE,CAAC;QAClC,MAAMC,mBAAmB,CAAC,EAAE,CAAC;QAC7BI,UAAU,CAACK,QAAQ,CAAC,OAAO,CAAC;MAEhC;IACF,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;IACjD;EACF,CAAC;EAAA,gBArBYT,UAAUA,CAAAW,EAAA;IAAA,OAAAV,IAAA,CAAAW,KAAA,OAAAC,SAAA;EAAA;AAAA,GAqBtB"},"metadata":{},"sourceType":"module","externalDependencies":[]}